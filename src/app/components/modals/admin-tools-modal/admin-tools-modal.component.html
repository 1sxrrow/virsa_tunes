<p-dialog
  [header]="'Admin Tools'"
  [style]="{ width: '50vw' }"
  [modal]="true"
  [(visible)]="showAdminModal"
  (onHide)="handleClose()"
>
  <div class="grid grid-cols-3 lg:grid-cols-6 p-3 place-items-center gap-2">
    <p-button
      icon="pi pi-file-export"
      pTooltip="Export Db"
      tooltipPosition="bottom"
      (click)="exportFirebaseDatabaseToJSON()"
      class="lg:mr-2"
      [ngStyle]="{ width: 'inherit' }"
      styleClass="p-button-secondary"
    ></p-button>
    <p-button
      icon="pi pi-file-import"
      pTooltip="Import Db"
      tooltipPosition="bottom"
      (click)="showUploadComponentMethod()"
      class="lg:mr-2"
      [ngStyle]="{ width: 'inherit' }"
      styleClass="p-button-secondary"
    ></p-button>
    <p-button
      icon="pi pi-euro"
      pTooltip="Incassi"
      tooltipPosition="bottom"
      (click)="showIncassiModalMethod()"
      class="lg:mr-2 w-full"
      [ngStyle]="{ width: 'inherit' }"
      styleClass="p-button-secondary"
    ></p-button>
    <p-button
      icon="pi pi-chart-bar"
      pTooltip="Statistiche"
      tooltipPosition="bottom"
      class="w-full"
      [ngStyle]="{ width: 'inherit' }"
      (click)="showStatsModalMethod()"
      styleClass="p-button-secondary"
    ></p-button>
    <p-button
      icon="pi pi-shopping-bag"
      pTooltip="Lista acquisti"
      tooltipPosition="bottom"
      class="w-full"
      [ngStyle]="{ width: 'inherit' }"
      (click)="showAcquistiModalMethod()"
      styleClass="p-button-secondary"
    ></p-button>
    <p-button
      icon="pi pi-mobile"
      pTooltip="Lista numeri telefoni"
      tooltipPosition="bottom"
      class="w-full"
      [ngStyle]="{ width: 'inherit' }"
      (click)="showTelefoniModalMethod()"
      styleClass="p-button-secondary"
    ></p-button>
    <p-button
      [hidden]="true"
      [label]="ambiente === 'test' ? 'Passa a Produzione' : 'Passa a Test'"
      class="w-full"
      (click)="passaggioAmbiente()"
      styleClass="p-button-info"
    ></p-button>
  </div>
  <div *ngIf="showUploadComponent">
    <p-fileUpload
      *ngIf="showUploadComponent"
      [showUploadButton]="false"
      [showCancelButton]="false"
      (onSelect)="onUploadFileJSON($event)"
    >
    </p-fileUpload>
    <div class="grid grid-cols-4 p-3">
      <p-button
        label="Aggiorna"
        [disabled]="!FileJSON"
        (click)="confirmImportFirebaseDatabaseFromJSON()"
        class="col-start-4 flex justify-end"
        styleClass="p-button-info"
      ></p-button>
    </div>
  </div>
</p-dialog>

<incassi-modal
  *ngIf="showIncassiModal"
  [(showIncassiModal)]="showIncassiModal"
  (showIncassiModalChange)="handleShowIncassiModalChange($event)"
/>
<stats-modal
  *ngIf="showStatsModal"
  [(showStatsModal)]="showStatsModal"
  [canaleComResults]="canaleComResults"
  (showIncassiModalChange)="handleShowStatsModalChange($event)"
/>
<acquisti-modal
  *ngIf="showAcquistiModal"
  [(showAcquistiModal)]="showAcquistiModal"
  (showAcquistiModalChange)="handleShowAcquistiModalChange($event)"
/>
<telefoni-modal
  *ngIf="showTelefoniModal"
  [(showTelefoniModal)]="showTelefoniModal"
  (showTelefoniModalChange)="handleShowTelefoniModalChange($event)"
/>
